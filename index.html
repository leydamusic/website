<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Big Sky Music Company</title>

  <!-- Favicon for Light & Dark Mode -->
  <link rel="icon" href="favicon-light.ico" media="(prefers-color-scheme: light)">
  <link rel="icon" href="favicon-dark.ico" media="(prefers-color-scheme: dark)">
  <link rel="icon" href="favicon-light.ico" type="image/x-icon" />

  <!-- Aspekta font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Aspekta:wght@800&display=swap" rel="stylesheet" />

  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Aspekta', sans-serif;
      background: black; color: white;
      overflow: hidden;
    }

    /* Scene background to give the glass something to blur (for splash) */
    .scene {
      position: fixed; inset: 0; z-index: 0; pointer-events: none;
      background:
        radial-gradient(1200px 800px at 10% 10%, #2447b8 0, transparent 55%),
        radial-gradient(900px 700px at 90% 20%, #7e3ff2 0, transparent 55%),
        radial-gradient(900px 700px at 40% 100%, #1fb6ff 0, transparent 55%),
        linear-gradient(135deg, #000, #0b0f18);
      transform: translateZ(0);
    }

    /* Shared screen container */
    .screen {
      position: absolute; inset: 0; z-index: 1;
      display: grid; place-items: center;
      opacity: 0; transition: opacity 1.8s ease;
    }
    #splash { background: transparent; z-index: 2; opacity: 1; }

    /* MAIN screen: white base + ultra-subtle texture so blur reads cleanly */
    #main   { background: #fff; color: #000; z-index: 1; }
    #main::before{
      content:""; position: absolute; inset:0; z-index:0; pointer-events:none;
      /* a faint, elegant ink-like field for the glass to blur */
      background:
        radial-gradient(800px 600px at 20% 20%, rgba(0,0,0,.06), transparent 60%),
        radial-gradient(900px 700px at 80% 30%, rgba(0,0,0,.05), transparent 65%),
        radial-gradient(900px 700px at 40% 90%, rgba(0,0,0,.04), transparent 65%),
        linear-gradient(#fff, #fff);
      filter: blur(0.2px); /* tiny bit of grain */
    }

    /* Generic glass panel (used for splash + card shells on main) */
    .panel {
      position: relative;
      border-radius: 20px;
      padding: clamp(24px, 4vw, 40px);
      /* Lighter, clearer glass: less fog, more edge */
      background:
        linear-gradient(to bottom, rgba(255,255,255,.10), rgba(255,255,255,0)),
        rgba(24,26,27,.18);
      -webkit-backdrop-filter: saturate(160%) blur(var(--blur, 20px));
              backdrop-filter: saturate(160%) blur(var(--blur, 20px));
      border: 1px solid rgba(255,255,255,.35);
      box-shadow:
        0 10px 28px rgba(0,0,0,.18),
        0 2px 10px rgba(0,0,0,.10);
      transform-style: preserve-3d;
      will-change: transform, backdrop-filter;
      overflow: clip;
    }

    /* Inner stroke + top edge highlight for realism */
    .panel::before,
    .panel::after {
      content: ""; position: absolute; inset: 0; pointer-events: none; border-radius: inherit;
    }
    .panel::before {
      background: linear-gradient(to bottom, rgba(255,255,255,.45), transparent 40%);
      mix-blend-mode: screen;
      opacity: .55;
    }
    .panel::after {
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.50);
      opacity: .85;
    }

    /* Sheen that follows the pointer */
    .sheen {
      position: absolute; inset: -20%;
      background:
        radial-gradient(140px 100px at var(--mx,70%) var(--my,10%),
          rgba(255,255,255,.45), transparent 60%);
      filter: blur(18px);
      opacity: .18; pointer-events: none;
      transition: opacity .25s ease;
      will-change: transform, opacity;
    }
    .panel:hover .sheen { opacity: .3; }

    /* Logos and text for splash */
    .logo { max-width: min(80vw, 600px); transition: transform .9s ease; }
    #splash-logo { width: 600px; }

    /* MAIN layout */
    .main-wrap{
      position: relative; z-index: 1;
      display: grid; place-items: center;
      width: min(1200px, 92vw);
      gap: clamp(16px, 3vw, 28px);
    }
    .headline{
      font-size: clamp(28px, 4.6vw, 56px);
      font-weight: 800;
      letter-spacing: .5px;
      text-align: center;
      color: #000;
    }

    .brand-grid{
      width: 100%;
      display: grid;
      grid-template-columns: repeat(2, minmax(280px, 1fr));
      gap: clamp(16px, 3vw, 32px);
      align-items: stretch;
    }
    @media (max-width: 820px){
      .brand-grid{ grid-template-columns: 1fr; }
    }

    .card{
      --blur: 22px; /* a touch more blur on the cards themselves */
      background:
        linear-gradient(to bottom, rgba(255,255,255,.12), rgba(255,255,255,0)),
        rgba(255,255,255,.10); /* clearer glass */
      -webkit-backdrop-filter: saturate(180%) blur(var(--blur));
              backdrop-filter: saturate(180%) blur(var(--blur));
      border: 1px solid rgba(0,0,0,.10);
      box-shadow:
        0 20px 40px rgba(0,0,0,.10),
        0 2px 10px rgba(0,0,0,.06);
      transition: transform .45s cubic-bezier(.2,.8,.2,1), box-shadow .45s ease, background .3s ease, border-color .3s ease;
    }
    .card:hover{
      transform: translateY(-6px);
      box-shadow:
        0 24px 50px rgba(0,0,0,.14),
        0 6px 18px rgba(0,0,0,.10);
      border-color: rgba(0,0,0,.16);
    }

    .card-body{
      display: grid; place-items: center; text-align: center;
      gap: 12px;
    }
    .brand-logo{
      width: min(420px, 70%); height: auto; display: block;
      object-fit: contain; object-position: center;
      image-rendering: -webkit-optimize-contrast;
      filter: drop-shadow(0 1px 0 rgba(255,255,255,.3));
    }
    .subtext{
      font-size: clamp(14px, 1.8vw, 16px);
      letter-spacing: .3px;
      color: rgba(0,0,0,.72);
    }

    .cta{
      margin-top: 6px;
      display: inline-block;
      padding: 12px 18px;
      border-radius: 12px;
      font-weight: 800; letter-spacing: .4px;
      text-decoration: none;
      color: #0b0f18;
      background:
        linear-gradient(to bottom, rgba(255,255,255,.55), rgba(255,255,255,.35)),
        rgba(255,255,255,.65);
      -webkit-backdrop-filter: saturate(180%) blur(16px);
              backdrop-filter: saturate(180%) blur(16px);
      border: 1px solid rgba(0,0,0,.14);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.8),
        0 6px 16px rgba(0,0,0,.10);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
      will-change: transform;
    }
    .cta:hover{
      transform: translateY(-2px);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.85),
        0 10px 22px rgba(0,0,0,.14);
      background:
        linear-gradient(to bottom, rgba(255,255,255,.65), rgba(255,255,255,.45)),
        rgba(255,255,255,.75);
    }
    .cta:active{ transform: translateY(0); }

    .divider{
      height: 1px; width: 100%;
      background: linear-gradient(to right, transparent, rgba(0,0,0,.15), transparent);
      margin: clamp(8px, 2vw, 16px) 0;
    }

    .bsmc-logo{
      width: min(520px, 72vw); height: auto; display: block;
      object-fit: contain; object-position: center;
      margin-top: clamp(6px, 1.5vw, 10px);
      filter: drop-shadow(0 1px 0 rgba(255,255,255,.4));
    }
    .footer-text{
      font-size: clamp(13px, 1.6vw, 15px);
      color: rgba(0,0,0,.65);
      text-align: center;
    }

    /* Respect user preferences */
    @media (prefers-reduced-transparency: reduce) {
      .panel, .card, .cta {
        -webkit-backdrop-filter: none; backdrop-filter: none;
        background: rgba(255,255,255,.12);
      }
    }
    @media (prefers-reduced-motion: reduce) {
      .panel, .logo, .card, .cta, .screen { transition: none !important; }
    }

    /* Fallback if backdrop-filter unsupported */
    @supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
      .panel {
        background:
          linear-gradient(to bottom, rgba(255,255,255,.10), rgba(255,255,255,0)),
          rgba(24,26,27,.18);
      }
      .card{
        background:
          linear-gradient(to bottom, rgba(255,255,255,.12), rgba(255,255,255,0)),
          rgba(255,255,255,.12);
      }
      .cta{ background: rgba(255,255,255,.85); }
    }
  </style>
</head>
<body>

  <!-- Ambient scene (blur source for splash) -->
  <div class="scene" aria-hidden="true"></div>

  <!-- Splash Screen (black) -->
  <div id="splash" class="screen">
    <div class="panel" id="splash-panel">
      <span class="sheen"></span>
      <div class="stack">
        <img id="splash-logo" class="logo" src="BigSkyMusic_white_transparent.png" alt="Big Sky Music Logo (White)" />
      </div>
    </div>
  </div>

  <!-- Main Screen (white) -->
  <div id="main" class="screen" aria-labelledby="headline">
    <div class="main-wrap">
      <!-- Headline -->
      <h1 id="headline" class="headline">Our Family of Brands</h1>

      <!-- Cards -->
      <div class="brand-grid">

        <!-- LeydaMusic card (left) -->
        <div class="panel card" id="card-leydamusic" style="--blur:24px;">
          <span class="sheen"></span>
          <div class="card-body">
            <!-- Replace filename with your exact asset if different -->
            <img class="brand-logo" src="leydamusic.png" alt="LeydaMusic logo" />
            <div class="subtext">Music for the Marching Arts</div>
            <a class="cta" href="https://leydamusic.com" target="_blank" rel="noopener">Visit site</a>
          </div>
        </div>

        <!-- forComposers card (right) -->
        <div class="panel card" id="card-forcomposers" style="--blur:24px;">
          <span class="sheen"></span>
          <div class="card-body">
            <!-- Replace filename with your exact asset if different -->
            <img class="brand-logo" src="forcomposers.png" alt="forComposers logo" />
            <div class="subtext">Coming in Spring 2027</div>
            <!-- no button by request -->
          </div>
        </div>
      </div>

      <div class="divider" aria-hidden="true"></div>

      <!-- Big Sky logo (black version) -->
      <!-- Replace filename with your exact black logo asset if different -->
      <img class="bsmc-logo" src="BigSkyMusic_black_transparent.png" alt="Big Sky Music Company logo (Black)" />

      <!-- Footer line -->
      <div class="footer-text">Companies Owned and Operated by Big Sky Music Company, LLC</div>
    </div>
  </div>

  <script>
    // ------- Screen transition -------
    setTimeout(() => {
      document.getElementById("splash").style.opacity = 0;
      setTimeout(() => {
        const main = document.getElementById("main");
        main.style.opacity = 1;
      }, 1800);
    }, 4000);

    // ------- Fluid pointer tracker with inertia (requestAnimationFrame) -------
    (function(){
      const panels = [
        document.getElementById('splash-panel'),
        document.getElementById('card-leydamusic'),
        document.getElementById('card-forcomposers')
      ];

      let targetX = 0.5, targetY = 0.2;  // normalized 0..1
      let curX = targetX, curY = targetY;
      let rafId = null;

      function onPointerMove(e) {
        const el = e.currentTarget;
        const r = el.getBoundingClientRect();
        targetX = (e.clientX - r.left) / r.width;
        targetY = (e.clientY - r.top) / r.height;
        if (!rafId) rafId = requestAnimationFrame(tick);
      }

      function tick(){
        const k = 0.12; // smoothing factor
        curX += (targetX - curX) * k;
        curY += (targetY - curY) * k;

        for (const el of panels) {
          if (!el) continue;
          const mx = (curX * 100).toFixed(2) + '%';
          const my = (curY * 100).toFixed(2) + '%';
          el.style.setProperty('--mx', mx);
          el.style.setProperty('--my', my);

          // Subtle parallax tilt and lift
          const tiltX = (0.5 - curY) * 6; // degrees
          const tiltY = (curX - 0.5) * 6; // degrees
          el.style.transform =
            'perspective(900px) ' +
            'rotateX(' + tiltX.toFixed(2) + 'deg) ' +
            'rotateY(' + tiltY.toFixed(2) + 'deg) ' +
            'translateZ(0)';
        }

        if (Math.abs(targetX - curX) > 0.0005 || Math.abs(targetY - curY) > 0.0005) {
          rafId = requestAnimationFrame(tick);
        } else {
          rafId = null;
        }
      }

      // Attach listeners
      for (const el of panels) {
        if (!el) continue;
        el.addEventListener('pointermove', onPointerMove);
        // Start with a pleasing default highlight
        el.style.setProperty('--mx', '70%');
        el.style.setProperty('--my', '10%');
      }

      // Touch support
      for (const el of panels) {
        if (!el) continue;
        el.addEventListener('touchmove', (e) => {
          const t = e.touches[0];
          if (!t) return;
          const r = el.getBoundingClientRect();
          targetX = (t.clientX - r.left) / r.width;
          targetY = (t.clientY - r.top) / r.height;
          if (!rafId) rafId = requestAnimationFrame(tick);
        }, { passive: true });
      }

      // On leave, glide back
      for (const el of panels) {
        if (!el) continue;
        el.addEventListener('pointerleave', () => {
          targetX = 0.7; targetY = 0.1;
          if (!rafId) rafId = requestAnimationFrame(tick);
        });
      }
    })();
  </script>
</body>
</html>
